<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="shortcut icon" href="../favicon.ico" type="image/x-icon">
    <title>gsap</title>
    <link rel="stylesheet" href="./assets/css/reset.css">
    <link rel="stylesheet" href="./assets/css/common.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.11.3/gsap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.11.3/ScrollTrigger.min.js"></script>
    <script src="./assets/js/lnb.js"></script>
    <script src="./assets/js/script.js"></script>
</head>
<body>
    <a name="gsap-to"></a>
    <article class="sample__wrap gsap-to">
        <div class="sample__ttl">
            <h2>gsap.to()</h2>
            <p>
                <span><b>gsap.to()</b>종료값 셋팅</span>
            </p>
        </div>
        <section class="sample__content">
            <div class="box box1">to</div>
            <div class="box box2">to</div>
            <div class="box box3">to</div>
            <div class="box box4">button</div>
        </section>
        <section class="sample__btn">
            <button class="btn-play">play</button>
            <button class="btn-pause">pause</button>
            <button class="btn-resume">resume</button>
            <button class="btn-reverse">reverse</button>
            <button class="btn-restart">restart</button>
            <button class="btn-seek">seek</button>
            <button class="btn-progress">progress</button>
        </section>
        <script>
            gsap.to(".gsap-to .box1", { x: 200, duration:1 });
            gsap.to(".gsap-to .box2", { x:200, rotate:720, scale:1.3, duration:3,});
            gsap.to(".gsap-to .box3", { x:100, ease:'elastic', backgroundColor:'#46b477', width:300, duration:3 });
            let gsapTo = gsap.to(".gsap-to .box4", { duration:4, x:750, rotation:360, ease:"none", paused:true})

            document.querySelector(".gsap-to .btn-play").addEventListener("click", ()=>{ gsapTo.play() })
            document.querySelector(".gsap-to .btn-pause").addEventListener("click", ()=>{ gsapTo.pause() })
            document.querySelector(".gsap-to .btn-resume").addEventListener("click", ()=>{ gsapTo.resume() })
            document.querySelector(".gsap-to .btn-reverse").addEventListener("click", ()=>{ gsapTo.reverse() })
            document.querySelector(".gsap-to .btn-restart").addEventListener("click", ()=>{ gsapTo.restart() })
            document.querySelector(".gsap-to .btn-seek").addEventListener("click", ()=>{ gsapTo.seek(2) })
            document.querySelector(".gsap-to .btn-progress").addEventListener("click", ()=>{ gsapTo.progress(0.5) })
        </script>
    </article>
    
    <a name="gsap-from"></a>
    <article class="sample__wrap gsap-from">
        <div class="sample__ttl">
            <h2>gsap.from(), fromTo(), set()</h2>
            <p>
                <span><b>gsap.from()</b>시작값 셋팅</span>
                <span><b>gsap.fromTo()</b>시작,종료값 셋팅</span>
                <span><b>gsap.set()</b>애니메이션 효과없이 즉시 변경</span>
            </p>
        </div>
        <section class="sample__content">
            <div class="box box1">from</div>
            <div class="box box2">fromTo</div>
            <div class="box box3">set</div>
        </section>
        <script>
            gsap.from(".gsap-from .box1", { x:100, duration:3, opacity:0, width:400, ease:'step(10)' })
            gsap.fromTo(".gsap-from .box2", { x:300 }, {duration:4, x:-50, rotate:180})
            gsap.set(".gsap-to .box3", {x:100, width:200, duration:3})
        </script>
    </article>

    <a name="gsap-timeline-delay"></a>
    <article class="sample__wrap gsap-timeline-delay">
        <div class="sample__ttl">
            <h2>gsap-timeline (delay)</h2>
            <p>
                <span>delay를 사용해서 애니메이션을 순차적으로 실행할 수 있다.</span>
            </p>
        </div>
        <section class="sample__content">
            <div class="box box1">delay</div>
        </section>
        <script>
            gsap.to(".gsap-timeline-delay .box1", { duration:3, x:200, opacity:.2, ease: 'step(10)'});
            gsap.to(".gsap-timeline-delay .box1", { delay:3, duration:3, y:200, opacity:1 });
            gsap.to(".gsap-timeline-delay .box1", { delay:6, duration:3, x:0, width:200, backgroundColor:'skyblue'});
            gsap.to(".gsap-timeline-delay .box1", { delay:9, duration:3, y:0, height:200});
        </script>
    </article>

    <a name="gsap-timeline"></a>
    <article class="sample__wrap gsap-timeline">
        <div class="sample__ttl">
            <h2>gsap.timeline()</h2>
            <p>
                <span>애니메이션을 순차적으로 실행하려면 delay보다는 gsap.timeline()을 사용해야 한다.</span>
            </p>
        </div>
        <section class="sample__content">
            <div class="box box1">delay</div>
        </section>
        <script>
            const timeline = gsap.timeline();

            timeline.to(".gsap-timeline .box1", {duration:3, x:200, opacity:.2, ease: 'step(10)'})
            timeline.to(".gsap-timeline .box1", {duration:3, y:200, opacity:1})
            timeline.to(".gsap-timeline .box1", {duration:3, x:0, width:200, backgroundColor:'skyblue'})
            timeline.to(".gsap-timeline .box1", {duration:3, y:0, height:200})
        </script>
    </article>






    <a name="scrolltrigger"></a>
    <article class="sample__wrap gsap-scrolltrigger">
        <div class="sample__ttl">
            <h2>scrollTrigger</h2>
            <p>
                <span>해당 요소가 화면에 보이는 지점에서 애니메이션 효과가 시작된다.</span>
                <span>페이지 로드 후 단 한번만 실행된다.</span>
                <span>1. 먼저 gsap.registerPlugin(ScrollTrigger); 로 스크롤트리거 플러그인 추가</span>
                <span>2. gsap.to 내부에 코드를 작성한다.</span>
            </p>
        </div>
        <section class="sample__content">
            <div class="emoji"><img src="./assets/images/emoji.png" /></div>
        </section>
        <script>
            gsap.registerPlugin(ScrollTrigger);
            gsap.to(".gsap-scrolltrigger .emoji", {
                scrollTrigger : ".gsap-scrolltrigger .emoji", x:400, duration:2
            })
        </script>
    </article>


    <a name="scrolltrigger-toggleactions"></a>
    <article class="sample__wrap gsap-scrolltrigger-toggleaction">
        <div class="sample__ttl">
            <h2>scrollTrigger toggleActions</h2>
            <p>
                <span>해당 요소가 화면에 보이는 지점에서 애니메이션 효과가 시작된다.</span>
                <span>스크롤을 움직여 화면에 요소가 보일때마다 실행된다.</span>
                <span>
                    <a href="./toggleactions.html" target="blank">toggleActions는 스크롤 방향에 따라 onEnter, onLeave, onEnterBack, onLeaveBack 네가지로 구성된다.</a>
                </span>
                <span>
                    <a href="./toggleactions-startend.html">시작/종료지점을 선택하려면 start 메서드를 사용한다.</a>
                </span>
            </p>
        </div>
        <section class="sample__content">
            <div class="emoji"><img src="./assets/images/emoji.png" /></div>
        </section>
        <section class="sample__code">
<pre>
gsap.registerPlugin(ScrollTrigger);
gsap.to(".c", {
    scrollTrigger: {
        trigger: ".c",
        start: "top center",
        end: "top 100px",
        markers: true
    },
    x: 400,
    rotation: 360,
    ease: "none",
    duration: 3
})

위 코드에서 " gsap.to~~ scrollTrigger: {0 "
부분을 가져와 아래와 같이 사용할 수 있다.
ScrollTrigger.create({
    trigger: ".c",
    start: "top center",
    end: "top 100px",
    markers: true
})

이 자체로는 아무 작업도 수행하지 않고, 우리가 콜백을 입력하여 동작을 추가할 수 있다.

ScrollTrigger.create({
    trigger: ".c",
    start: "top center",
    end: "top 100px",
    onEnter: () => console.log("enter"),
    onLeave: () => console.log("leave"),
    onEnterBack: () => console.log("enter back"),
    onLeaveBack: () => console.log("all the way back"),
    
    onUpdate : (self) => console.log("update", self.progress.toFixed(3)),
    // 스크롤 트리거가 있을 때마다 실행됨
    // self는 0과 1사이의 숫자가 나온다. (스크롤,타임라인과 관련)

    onToggle : (self) => console.log("toggle", self.isActive),
    // 토글이 활성화 되어있는지 확인할 수 있다.

    toggleClass : "active",
    // 클래스를 토글할 수 있는 유용한 기능
    // 해당 요소가 시작과 끝 사이에 있을 때마다 해당 클래스를 가져오고,
    // 원하는 경우 트리거 뿐만 아니라 여러 요소에 해당 클래스를 추가할 수 있다.

    id : "my-id",
    // markers에 ID를 추가할 수 있다.
    // 해당 id가 모든 곳의 마커에 추가된다.
    // 여러 스크롤 트리거가 있는 경우 어떤 마커가 어떤 것과 함께 가는지 체크 가능

    markers: true
})

// 또한 해당 인스턴스를 참조하고 스크롤 트리거로 가져올 수 있지만 ID 메서드로 트리거 할 수 있다.
let trigger = ScrollTrigger.getById("my-id");


- 기본 값을 설정하는 기능.
// 페이지에서 많은 스크롤 트리거가 기본적으로 동일한 종류의 토글 동작을 사용하도록 할때 사용
ScrollTrigger.defaults({
    toggleActions: "restart pause resume none",
    markers: true
});


// ID가 있는 div가 있다고 가정하면 스크롤트리거가 뷰포트 대신 해당 요소의 스크롤 위치를 알고
// 마지막으로 기본적으로 세로 스크롤을 찾지만, 원하는 경우 수평으로 전환하려면 horizontal옵션 추가
ScrollTrigger.create({
    trigger: ".c",
    start: "top center",
    end: "top 100px",
    horizontal: true,   // 수평스크롤로 전환
    scroller: "#container",
    id: "my-id",
    toggleClass: "active",
    markers: true
})
</pre>
        </section>
        <script>
            // gsap.registerPlugin(ScrollTrigger);
            gsap.to(".gsap-scrolltrigger-toggleaction .emoji", {
                scrollTrigger : {
                    trigger: ".gsap-scrolltrigger-toggleaction .emoji",
                    toggleActions: "restart none reverse none"
                    // toggleActions value
                    // play, pause, resume, reverse, restart, reset, complete, none
                },
                x:400, duration:2
            })
        </script>
    </article>


    <a name="scrolltrigger-scrub"></a>
    <article class="sample__wrap gsap-scrolltrigger-scrub">
        <div class="sample__ttl">
            <h2>Scrub</h2>
            <p>
                <span>스크롤이 요소 이전으로 돌아가면 애니메이션 역시 되돌아가는 기능</span>
                <span>scrub은 '문질러 닦다'라는 의미인데, 크게 와닿지 않고 되감기가 더 적절하지 않을까</span>
                <span>scrub: true 또는 수치를 입력한다.</span>
                <span>
                    <a href="./scrolltrigger-scrub.html" target="blank">demo</a>
                </span>
            </p>
        </div>
        <section class="sample__content">
        </section>
    </article>


    <a name="scrolltrigger-pinning"></a>
    <article class="sample__wrap gsap-scrolltrigger-pinning">
        <div class="sample__ttl">
            <h2>Pinning</h2>
            <p>
                <span>pinning도 scrub만큼 자주 쓰이는 기능으로 핀으로 화면에 고정하는 기능이라고 이해하면 쉽다</span>
                <span>사용법은 pin:true 혹은 pin:"요소의 class,id명" 이다.</span>
                <span>
                    <a href="./scrolltrigger-pinning.html" target="blank">demo</a>
                </span>
                <span>
                    <a href="./scrolltrigger-pinning-onepage.html" target="blank">Pinning은 원페이지 스크롤에 쓰인다. xPercent 이용</a>
                </span>
                <span>
                    <a href="./scrolltrigger-pinning-onepage-utils.html" target="blank">utils를 활용한 원페이지 스크롤</a>
                </span>
                <span>
                    <a href="./scrolltrigger-pinning-onepage-scrolltoplugin.html" target="blank">scrollToPlugin을 활용한 원페이지 스크롤</a>
                </span>
            </p>
        </div>
        <section class="sample__content">
        </section>
    </article>


    <a name="scrolltrigger-spinning"></a>
    <article class="sample__wrap gsap-scrolltrigger-spinning">
        <div class="sample__ttl">
            <h2>Spinning</h2>
            <p>
                <span>Spinning은 스크롤 시 화면이 수직이 아닌 수평으로 이동한다.</span>
                <span>pin, scrub, snap 모두 쓰이고 심지어 ease:"none"도 없으면 안된다.</span>
                <span>
                    <a href="./scrolltrigger-spinning.html" target="blank">가로스크롤 demo</a>
                </span>
            </p>
        </div>
        <section class="sample__content">
        </section>
    </article>

</body>
</html>